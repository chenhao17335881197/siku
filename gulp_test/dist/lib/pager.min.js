"use strict";function Page(a){var m=$.extend({num:null,startnum:1,elem:null,callback:null},a||{});(m.startnum>m.num||m.startnum<1)&&(m.startnum=1);var e,s={elem:m.elem,num:m.num,callback:m.callback,init:function(){this.elem.next("div.pageJump").children(".button").unbind("click"),this.JumpPages(),this.elem.children("li").click(function(){var a,e=$(this).children("a").text(),l=null,i=parseInt(s.elem.children("li.active").attr("page"));if(isNaN(parseInt(e)))switch(e){case"下一页":if(i==s.num)return;l=i>=s.num-2||s.num<=6||i<3?s.elem.children("li.active").next():(s.newPages("next",i+1),s.elem.children("li.active"));break;case"上一页":if("1"==i)return;l=i>=s.num-1||i<=3||s.num<=6?s.elem.children("li.active").prev():(s.newPages("prev",i-1),s.elem.children("li.active"));break;case"«":if("1"==i)return;6<s.num&&s.newPages("«",1),l=s.elem.children("li[page=1]");break;case"»":if(i==s.num)return;6<s.num&&s.newPages("»",s.num),l=s.elem.children("li[page="+s.num+"]");break;case"...":return}else(parseInt(e)>=s.num-3||parseInt(e)<=3)&&6<s.num&&s.newPages("jump",parseInt(e)),l=$(this);""!=(a=s.actPages(l))&&a!=i&&s.callback&&s.callback(parseInt(a))})},actPages:function(a){return a.addClass("active").siblings().removeClass("active"),s.elem.children("li.active").text()},JumpPages:function(){this.elem.next("div.pageJump").children(".button").click(function(){var a=parseInt($(this).siblings("input").val());if(!(isNaN(a)||a<=0||a>s.num)){if(!(6<s.num)){var e=s.elem.children("li[page="+a+"]");return s.actPages(e),void(s.callback&&s.callback(a))}s.newPages("jump",a),s.callback&&s.callback(a)}})},newPages:function(a,e){for(var l="",i="",n="",t="",u="<li><a>...</a></li>",l='<li><a  aria-label="Previous">&laquo;</a></li>\t\t\t\t\t<li><a>上一页</a></li>',c=0;c<3;c++)t+="<li "+(c-1==0?'class="active"':"")+' page="'+(e+c-1)+'"><a>'+(e+c-1)+"</a></li>",i+="<li "+(c+2==e?'class="active"':"")+' page="'+(c+2)+'"><a>'+(c+2)+"</a></li>",n+="<li "+(m.num+c-3==e?'class="active"':"")+' page="'+(m.num+c-3)+'"><a>'+(m.num+c-3)+"</a></li>";switch(a){case"next":case"prev":e<=4?l+='<li page="1"><a>1</a></li>'+i+u+'<li page="'+m.num+'"><a>'+m.num+"</a></li>":e>=m.num-3?l+='<li page="1"><a>1</a></li>'+u+n+'<li page="'+m.num+'"><a>'+m.num+"</a></li>":l+='<li page="1"><a>1</a></li>'+u+t+u+'<li page="'+m.num+'"><a>'+m.num+"</a></li>";break;case"«":l+='<li class="active" page="1"><a>1</a></li>'+i+u+'<li page="'+m.num+'"><a>'+m.num+"</a></li>";break;case"»":l+='<li page="1"><a>1</a></li>'+u+n+'<li class="active" page="'+m.num+'"><a>'+m.num+"</a></li>";break;case"jump":e<=4?l+=1==e?'<li class="active" page="1"><a>1</a></li>'+i+u+'<li page="'+m.num+'"><a>'+m.num+"</a></li>":'<li page="1"><a>1</a></li>'+i+u+'<li page="'+m.num+'"><a>'+m.num+"</a></li>":e>=m.num-3&&7<=m.num?e==m.num?l+='<li page="1"><a>1</a></li>'+u+n+'<li class="active" page="'+m.num+'"><a>'+m.num+"</a></li>":l+='<li page="1"><a>1</a></li>'+u+n+'<li page="'+m.num+'"><a>'+m.num+"</a></li>":l+='<li page="1"><a>1</a></li>'+u+t+u+'<li page="'+m.num+'"><a>'+m.num+"</a></li>"}l+="<li><a>下一页</a></li>",(5<this.num||this.num<3)&&(m.elem.html(l),s.init({num:m.num,elem:m.elem,callback:m.callback}))}};if(m.num<=1)$(".pagination").html("");else if(parseInt(m.num)<=6){e=parseInt(m.num);for(var l="<li><a>上一页</a></li>",i=1;i<=e;i++)i==m.startnum?l+='<li class="active" page="'+i+'"><a>'+i+"</a></li>":l+='<li page="'+i+'"><a>'+i+"</a></li>";l+="<li><a>下一页</a></li>",m.elem.html(l),s.init()}else s.newPages("jump",m.startnum)}Page({num:4,startnum:1,elem:$("#page1"),callback:function(a){console.log(a)}});