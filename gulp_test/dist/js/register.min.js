"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var register=function(){function e(){_classCallCheck(this,e),this.name=$("#name"),this.password=$("#password"),this.confirm=$("#confirm"),this.vipcode=$("#vipcode"),this.ready=$(".ready"),this.check=$("#check"),this.arr=[!1,!1,!1],this.addEvent()}return _createClass(e,[{key:"addEvent",value:function(){this.name.on("blur",function(){var e=this.name.val();/0?(13|14|15|17|18|19)[0-9]{9}|\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/.test(e)?($(".uname_j").text(""),this.name.css("borderColor","#dedede"),this.arr[0]=!0):(this.name.css("borderColor","#9d003f"),$(".uname_j").text("请输入正确的手机号或者邮箱"),$(".uname_j").css({color:function(){return"red"},fontSize:function(){return"12px"},fontWeight:function(){return"bold"}}),this.arr[0]=!1),console.log(this.arr)}.bind(this)),this.password.on("blur",function(){var e=this.password.val();/^(?=.*[a-z])(?=.*[A-Z])[a-zA-Z0-9~!@&%#_]{8,16}$/.test(e)?($(".upwd").text(""),this.password.css("borderColor","#dedede"),this.arr[1]=!0):(this.password.css("borderColor","#9d003f"),$(".upwd").text("请输入大小写加数字!"),$(".upwd").css({color:function(){return"red"},fontSize:function(){return"12px"},fontWeight:function(){return"bold"}}),this.arr[1]=!1)}.bind(this)),this.confirm.on("blur",function(){this.password.val()===this.confirm.val()?($(".sure").text(""),this.confirm.css("borderColor","#dedede"),this.arr[2]=!0):(this.confirm.css("borderColor","#9d003f"),$(".sure").text("两次密码输入不一致，请重新输入"),$(".sure").css({color:function(){return"red"},fontSize:function(){return"12px"},fontWeight:function(){return"bold"}}),this.arr[2]=!1)}.bind(this)),this.check.click(function(){"none"==$(".vip_code").css("display")?$(".vip_code").css("display","block"):($(".vip_code").css("display","none"),$(".code_red").text("")),this.vipcode.blur(function(){var e=this.vipcode.val();/^\d{4,8}$/.test(e)?($(".code_red").text(""),this.vipcode.css("borderColor","#dedede")):(this.vipcode.css("borderColor","#9d003f"),$(".code_red").text("请输入正确的邀请码"),$(".code_red").css({color:function(){return"red"},fontSize:function(){return"12px"},fontWeight:function(){return"bold"}}))}.bind(this))}.bind(this)),$("#user").click(function(){"false"==$("#user").attr("name")?$("#user").attr("name","true"):$("#user").attr("name","false")}),this.ready.click(function(){var e,t,r;"false"==$("#user").attr("name")?($(".uname_j").text("请阅读并同意！"),$(".uname_j").css("color","red")):"true"==$("#user").attr("name")&&(-1===this.arr.indexOf(!1)?(e=this.name.val(),t=this.password.val(),this.confirm.val(),r=getCookie("registers"),e in(r=this.convertStrToObj(r))?$(".uname_j").text("用户名已存在！"):(r[e]=t,createCookie("registers",JSON.stringify(r),{expires:100,path:"/"}),location.href="login.min.html")):$(".uname_j").text("请完善信息!"))}.bind(this)),$(".login").click(function(){location.href="login.min.html"}),$("#index").click(function(){location.href="../index.html"})}},{key:"convertStrToObj",value:function(e){return e?JSON.parse(e):{}}}]),e}();new register;