"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var o=0;o<t.length;o++){var e=t[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,t,o){return t&&_defineProperties(n.prototype,t),o&&_defineProperties(n,o),n}var login=function(){function n(){_classCallCheck(this,n),this.arr=[!1,!1,!1],this.addEvent()}return _createClass(n,[{key:"addEvent",value:function(){$(".Vf_code").css("display","none"),$("#upwd").on("focus",function(){$(".Vf_code").css("display","block")}),$("#name").on("focus",function(){$(".lab").text("")}),$("#name").on("blur",function(){""==$("#name").val()?$(".lab").text("用户名/手机号/邮箱"):$("#name").val()}),$("#upwd").on("focus",function(){$(".lab-p").text("")}),$("#upwd").on("blur",function(){""==$("#upwd").val()?$(".lab-p").text("密码"):$("#upwd").val()}),$("document").ready(function(){$(".on").css("color","#f19108"),$(".center_content").css("display","none")}),$(".on").on("click",function(){$(".on").css("color","#f19108"),$(".off").css("color","#666"),$(".center_content_clone").css("display","block"),$(".center_content").css("display","none")}),$(".off").on("click",function(){$(".off").css("color","#f19108"),$(".on").css("color","#666"),$(".center_content").css("display","block"),$(".center_content_clone").css("display","none")}),$("#name").on("change",function(){var n=$("#name").val();/0?(13|14|15|17|18|19)[0-9]{9}|\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/.test(n)?($("#error").css("display","none"),this.arr[0]=!0):($("#error").text("！！请输入正确的用户名"),$("#error").css({display:function(){return"block"},color:function(){return"red"}}),this.arr[0]=!1),console.log(this.arr[0])}.bind(this)),$("#upwd").on("change",function(){var n=$("#upwd").val();/^(?=.*[a-z])(?=.*[A-Z])[a-zA-Z0-9~!@&%#_]{8,16}$/.test(n)?(this.arr[1]=!0,$("#error").css("display","none")):($("#error").text("！！请输入正确的密码"),$("#error").css({display:function(){return"block"},color:function(){return"red"}}),this.arr[1]=!1)}.bind(this)),$(function(){code_draw(),$("#canvas").on("click",function(){code_draw()}),$(".input-val").on("change",function(){var n=$(".input-val").val().toLowerCase(),t=$("#canvas").attr("data-code");""==n?$("#tips").text("请输入验证码！"):n==t?$("#tips").text("验证成功!"):$("#tips").text("验证码错误!请重新输入!"),$("#tips").css({color:function(){return"red"},fontWeight:function(){return"bold"},marginLeft:function(){return"10px"}})})}),$(".input-val").on("blur",function(){"验证成功!"==$("#tips").text()?this.arr[2]=!0:this.arr[2]=!1,console.log(this.arr[2])}.bind(this)),$("#loginbtn").on("click",function(){var n,t,o;-1===this.arr.indexOf(!1)?(n=$("#name").val(),t=$("#upwd").val(),o=getCookie("registers"),n in(o=this.convertStrToObj(o))?t===o[n]?location.href="../index.html":($("#error").text("密码错误!"),$("#error").css({display:function(){return"block"},color:function(){return"red"}})):($("#error").css({display:function(){return"block"},color:function(){return"red"}}),$("#error").text("用户名不存在!"))):($("#error").css({display:function(){return"block"},color:function(){return"red"}}),$("#error").text("请完善信息!"))}.bind(this)),$(".regis").click(function(){location.href="register.min.html"}),$("#index").click(function(){location.href="../index.html"}),$("document").ready(function(){alert(decodeURIComponent(document.cookie))})}},{key:"convertStrToObj",value:function(n){return n?JSON.parse(n):{}}}]),n}();new login;